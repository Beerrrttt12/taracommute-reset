<!doctype html>
<script>
  // GitHub Pages serves this for unknown paths (like /auth/v1/verify)
  const url = new URL(location.href);
  if (url.pathname.endsWith('/auth/v1/verify')) {
    const token = url.searchParams.get('token') || '';
    const type = url.searchParams.get('type') || 'recovery';
    // Pass token (not access_token) to the reset page
    location.replace('/taracommute-reset/password-reset.html#type=' +
      encodeURIComponent(type) + '&token=' + encodeURIComponent(token));
  } else {
    // Fallback: go to the reset page, preserving any hash
    location.replace('/taracommute-reset/password-reset.html' + (location.hash || ''));
  }
</script>
